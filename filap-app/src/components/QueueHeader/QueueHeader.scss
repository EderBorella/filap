@import '../../styles/variables';
@import '../../styles/mixins';

.queue-header {
  padding: spacing(4);
  background: color(surface);
  border-bottom: 1px solid color(gray-200);
  
  @include respond-to(md) {
    padding: spacing(6);
  }
  
  &__info {
    text-align: center;
    margin-bottom: spacing(4);
  }
  
  &__name {
    font-size: map-get($font-sizes, h3); // 1.5rem (24px)
    font-weight: map-get($font-weights, semibold); // 600
    color: color(text-primary);
    margin: 0 0 spacing(3) 0;
  }
  
  &__id-container {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: spacing(2);
    margin-bottom: spacing(2);
  }
  
  &__id {
    @include flex-center;
    gap: spacing(2);
    background: transparent;
    border: none;
    padding: spacing(2) spacing(3);
    border-radius: map-get($border-radius, small);
    cursor: pointer;
    transition: all map-get($transitions, fast);
    color: color(text-secondary);
    
    &:hover {
      background: color(gray-100);
      color: color(text-primary);
      
      .queue-header__copy-icon {
        opacity: 1;
        transform: scale(1.1);
      }
    }
    
    &:focus {
      outline: 2px solid color(primary);
      outline-offset: 2px;
    }
  }
  
  &__id-text {
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: map-get($font-sizes, small);
    color: inherit;
    background: transparent;
    border: none;
  }
  
  &__copy-icon {
    opacity: 0.6;
    transition: all map-get($transitions, fast);
    width: 16px;
    height: 16px;
  }
  
  &__share {
    @include flex-center;
    width: 36px;
    height: 36px;
    border: none;
    background: transparent;
    color: color(text-secondary);
    border-radius: map-get($border-radius, medium);
    cursor: pointer;
    transition: all map-get($transitions, fast);
    
    &:hover {
      background: color(primary);
      color: color(surface);
      transform: scale(1.05);
    }
    
    &:focus {
      outline: 2px solid color(primary);
      outline-offset: 2px;
    }
    
    svg {
      width: 18px;
      height: 18px;
    }
  }
  
  &__tooltip {
    position: absolute;
    top: -35px;
    left: 50%;
    transform: translateX(-50%);
    background: color(text-primary);
    color: color(surface);
    padding: spacing(1) spacing(2);
    border-radius: map-get($border-radius, small);
    font-size: map-get($font-sizes, small);
    white-space: nowrap;
    animation: fadeInOut 2s ease-in-out;
    
    &::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 4px solid transparent;
      border-top-color: color(text-primary);
    }
    
    @keyframes fadeInOut {
      0%, 100% { opacity: 0; transform: translateX(-50%) translateY(5px); }
      10%, 90% { opacity: 1; transform: translateX(-50%) translateY(0); }
    }
  }
  
  &__expiry {
    font-size: map-get($font-sizes, small);
    color: color(text-secondary);
    font-weight: map-get($font-weights, medium);
    transition: color map-get($transitions, fast);
    
    &--warning {
      color: #F59E0B; // Amber warning color
      animation: pulse 2s infinite;
      
      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
      }
    }
  }
  
  // Host Control Bar
  &__controls {
    @include flex-between;
    align-items: center;
    padding-top: spacing(4);
    border-top: 1px solid color(gray-200);
    gap: spacing(4);
    flex-wrap: wrap;
    
    @include respond-to(sm) {
      flex-wrap: nowrap;
    }
  }
  
  &__host-badge {
    @include flex-center;
    gap: spacing(2);
    background: rgba(16, 185, 129, 0.1); // Success color background
    color: color(success);
    padding: spacing(2) spacing(3);
    border-radius: map-get($border-radius, medium);
    font-size: map-get($font-sizes, small);
    font-weight: map-get($font-weights, medium);
    white-space: nowrap;
  }
  
  &__badge-icon {
    font-size: 14px;
  }
  
  &__sort-toggles {
    @include flex-center;
    gap: spacing(3);
    flex-wrap: wrap;
    
    @include respond-to(sm) {
      flex-wrap: nowrap;
    }
  }
  
  &__sort-label {
    font-size: map-get($font-sizes, small);
    color: color(text-secondary);
    font-weight: map-get($font-weights, medium);
    white-space: nowrap;
  }
  
  &__toggle-group {
    display: flex;
    gap: spacing(1);
    background: color(gray-100);
    padding: spacing(1);
    border-radius: map-get($border-radius, medium);
  }
  
  &__toggle {
    padding: spacing(2) spacing(3);
    border: none;
    background: transparent;
    color: color(text-secondary);
    font-size: map-get($font-sizes, small);
    font-weight: map-get($font-weights, medium);
    border-radius: map-get($border-radius, small);
    cursor: pointer;
    transition: all map-get($transitions, fast);
    white-space: nowrap;
    
    &:hover:not(&--active) {
      background: color(surface);
      color: color(text-primary);
    }
    
    &:focus {
      outline: 2px solid color(primary);
      outline-offset: 2px;
    }
    
    &--active {
      background: color(primary);
      color: color(surface);
      box-shadow: map-get($shadows, small);
      
      &:hover {
        background: color(primary-hover);
      }
    }
  }
  
  // Responsive adjustments
  @include respond-to(sm) {
    &__info {
      margin-bottom: spacing(6);
    }
    
    &__controls {
      justify-content: space-between;
    }
  }
}